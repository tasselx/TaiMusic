# 每日推荐播放功能测试指南

## 功能概述
已实现每日推荐歌曲的播放功能，包括：

1. **单曲播放**：点击任意歌曲项可播放该歌曲
2. **播放全部**：点击"播放全部"按钮播放整个列表
3. **加载状态**：显示加载动画和状态提示
4. **错误处理**：使用Toast通知显示错误信息
5. **成功反馈**：播放成功时显示Toast通知

## 测试步骤

### 1. 基本播放测试
- 打开应用：http://localhost:1420/
- 等待每日推荐数据加载完成
- 点击任意歌曲项
- 观察：
  - 歌曲项显示加载动画（旋转图标）
  - 播放器底部显示当前播放歌曲信息
  - 显示成功Toast通知

### 2. 播放全部测试
- 点击"播放全部"按钮
- 观察：
  - 按钮显示"准备中..."状态
  - 开始播放第一首歌曲
  - 显示相应的Toast通知

### 3. 错误处理测试
- 如果API返回错误，应显示错误Toast通知
- 如果歌曲缺少hash信息，应显示相应错误提示

## 技术实现要点

### API集成
- 使用 `/song/url?hash={hash}&free_part=1` 获取播放URL
- 检查 `response.status === 1` 确认API成功
- 从响应中提取 `play_url`、`url` 或 `play_backup_url`

### 状态管理
- 使用 `playingStates` 跟踪每首歌曲的加载状态
- 集成 `useAudioPlayerStore` 进行播放控制
- 使用 Toast 系统显示用户反馈

### 数据转换
- 确保歌曲对象包含 `hash` 字段
- 转换为播放器兼容的格式（包含 `url`、`coverUrl` 等）

## 已知限制
- 当前"播放全部"功能只播放第一首歌曲
- 后续可扩展为完整的播放列表管理

## 下一步优化建议
1. 实现完整的播放列表队列管理
2. 添加歌曲预加载功能
3. 优化错误重试机制
4. 添加播放历史记录
